var s=1e-6,z=typeof Float32Array!=="undefined"?Float32Array:Array,I=Math.random;function hb(a){z=a}var ib=Math.PI/180;function jb(a){return a*ib}function kb(a,b){return Math.abs(a-b)<=s*Math.max(1,Math.abs(a),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var a=0,b=arguments.length;b--;)a+=arguments[b]*arguments[b];return Math.sqrt(a)});var lb=Object.freeze({__proto__:null,EPSILON:s,get ARRAY_TYPE(){return z},RANDOM:I,setMatrixArrayType:hb,toRadian:jb,equals:kb});function mb(){var a=new z(4);return z!=Float32Array&&(a[1]=0,a[2]=0),a[0]=1,a[3]=1,a}function nb(a){var b=new z(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b}function ob(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function pb(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a}function qb(a,b,c,d){var e=new z(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e}function rb(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function sb(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a}function tb(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null}function ub(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a}function vb(a){return a[0]*a[3]-a[2]*a[1]}function $(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+f*i,a[1]=e*h+g*i,a[2]=d*j+f*k,a[3]=e*j+g*k,a}function wb(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+f*h,a[1]=e*i+g*h,a[2]=d*-h+f*i,a[3]=e*-h+g*i,a}function xb(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*h,a[2]=f*i,a[3]=g*i,a}function yb(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a}function zb(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a}function Ab(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function Bb(a){return Math.hypot(a[0],a[1],a[2],a[3])}function Cb(a,b,c,d){return a[2]=d[2]/d[0],c[0]=d[0],c[1]=d[1],c[3]=d[3]-a[2]*c[1],[a,b,c]}function Db(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a}function aa(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a}function Eb(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function Fb(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3];return Math.abs(c-g)<=s*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-h)<=s*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(e-i)<=s*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(f-j)<=s*Math.max(1,Math.abs(f),Math.abs(j))}function Gb(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a}function Hb(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a}var Ib=$,Jb=aa,Kb=Object.freeze({__proto__:null,create:mb,clone:nb,copy:ob,identity:pb,fromValues:qb,set:rb,transpose:sb,invert:tb,adjoint:ub,determinant:vb,multiply:$,rotate:wb,scale:xb,fromRotation:yb,fromScaling:zb,str:Ab,frob:Bb,LDU:Cb,add:Db,subtract:aa,exactEquals:Eb,equals:Fb,multiplyScalar:Gb,multiplyScalarAndAdd:Hb,mul:Ib,sub:Jb});function Lb(){var a=new z(6);return z!=Float32Array&&(a[1]=0,a[2]=0,a[4]=0,a[5]=0),a[0]=1,a[3]=1,a}function Mb(a){var b=new z(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b}function Nb(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Ob(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function Pb(a,b,c,d,e,f){var g=new z(6);return g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f,g}function Qb(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a}function Rb(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null}function Sb(a){return a[0]*a[3]-a[1]*a[2]}function ba(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],n=c[3],m=c[4],p=c[5];return a[0]=d*j+f*k,a[1]=e*j+g*k,a[2]=d*l+f*n,a[3]=e*l+g*n,a[4]=d*m+f*p+h,a[5]=e*m+g*p+i,a}function Tb(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+f*j,a[1]=e*k+g*j,a[2]=d*-j+f*k,a[3]=e*-j+g*k,a[4]=h,a[5]=i,a}function Ub(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d*j,a[1]=e*j,a[2]=f*k,a[3]=g*k,a[4]=h,a[5]=i,a}function Vb(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=d*j+f*k+h,a[5]=e*j+g*k+i,a}function Wb(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a[4]=0,a[5]=0,a}function Xb(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a[4]=0,a[5]=0,a}function Yb(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=b[0],a[5]=b[1],a}function Zb(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function _b(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],1)}function $b(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a}function ca(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a}function ac(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a}function bc(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a}function cc(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function dc(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=b[0],j=b[1],k=b[2],l=b[3],n=b[4],m=b[5];return Math.abs(c-i)<=s*Math.max(1,Math.abs(c),Math.abs(i))&&Math.abs(d-j)<=s*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(e-k)<=s*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(f-l)<=s*Math.max(1,Math.abs(f),Math.abs(l))&&Math.abs(g-n)<=s*Math.max(1,Math.abs(g),Math.abs(n))&&Math.abs(h-m)<=s*Math.max(1,Math.abs(h),Math.abs(m))}var ec=ba,fc=ca,gc=Object.freeze({__proto__:null,create:Lb,clone:Mb,copy:Nb,identity:Ob,fromValues:Pb,set:Qb,invert:Rb,determinant:Sb,multiply:ba,rotate:Tb,scale:Ub,translate:Vb,fromRotation:Wb,fromScaling:Xb,fromTranslation:Yb,str:Zb,frob:_b,add:$b,subtract:ca,multiplyScalar:ac,multiplyScalarAndAdd:bc,exactEquals:cc,equals:dc,mul:ec,sub:fc});function da(){var a=new z(9);return z!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function hc(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a}function ic(a){var b=new z(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b}function jc(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a}function kc(a,b,c,d,e,f,g,h,i){var j=new z(9);return j[0]=a,j[1]=b,j[2]=c,j[3]=d,j[4]=e,j[5]=f,j[6]=g,j[7]=h,j[8]=i,j}function lc(a,b,c,d,e,f,g,h,i,j){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a[8]=j,a}function mc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function nc(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}function oc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,n=-k*f+h*i,m=j*f-g*i,p=c*l+d*n+e*m;return p?(p=1/p,a[0]=l*p,a[1]=(-k*d+e*j)*p,a[2]=(h*d-e*g)*p,a[3]=n*p,a[4]=(k*c-e*i)*p,a[5]=(-h*c+e*f)*p,a[6]=m*p,a[7]=(-j*c+d*i)*p,a[8]=(g*c-d*f)*p,a):null}function pc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a}function qc(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)}function ea(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=c[0],m=c[1],p=c[2],q=c[3],o=c[4],r=c[5],v=c[6],t=c[7],u=c[8];return a[0]=n*d+m*g+p*j,a[1]=n*e+m*h+p*k,a[2]=n*f+m*i+p*l,a[3]=q*d+o*g+r*j,a[4]=q*e+o*h+r*k,a[5]=q*f+o*i+r*l,a[6]=v*d+t*g+u*j,a[7]=v*e+t*h+u*k,a[8]=v*f+t*i+u*l,a}function rc(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=c[0],m=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=n*d+m*g+j,a[7]=n*e+m*h+k,a[8]=n*f+m*i+l,a}function sc(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=Math.sin(c),m=Math.cos(c);return a[0]=m*d+n*g,a[1]=m*e+n*h,a[2]=m*f+n*i,a[3]=m*g-n*d,a[4]=m*h-n*e,a[5]=m*i-n*f,a[6]=j,a[7]=k,a[8]=l,a}function tc(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a}function uc(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=b[0],a[7]=b[1],a[8]=1,a}function vc(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=-c,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function wc(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=b[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function xc(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a}function yc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,n=e*g,m=e*h,p=e*i,q=f*g,o=f*h,r=f*i;return a[0]=1-l-p,a[3]=k-r,a[6]=n+o,a[1]=k+r,a[4]=1-j-p,a[7]=m-q,a[2]=n-o,a[5]=m+q,a[8]=1-j-l,a}function zc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],n=b[10],m=b[11],p=b[12],q=b[13],o=b[14],r=b[15],v=c*h-d*g,t=c*i-e*g,u=c*j-f*g,x=d*i-e*h,w=d*j-f*h,E=e*j-f*i,B=k*q-l*p,C=k*o-n*p,A=k*r-m*p,F=l*o-n*q,D=l*r-m*q,G=n*r-m*o,y=v*G-t*D+u*F+x*A-w*C+E*B;return y?(y=1/y,a[0]=(h*G-i*D+j*F)*y,a[1]=(i*A-g*G-j*C)*y,a[2]=(g*D-h*A+j*B)*y,a[3]=(e*D-d*G-f*F)*y,a[4]=(c*G-e*A+f*C)*y,a[5]=(d*A-c*D-f*B)*y,a[6]=(q*E-o*w+r*x)*y,a[7]=(o*u-p*E-r*t)*y,a[8]=(p*w-q*u+r*v)*y,a):null}function Ac(a,b,c){return a[0]=2/b,a[1]=0,a[2]=0,a[3]=0,a[4]=-2/c,a[5]=0,a[6]=-1,a[7]=1,a[8]=1,a}function Bc(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function Cc(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])}function Dc(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a[8]=b[8]+c[8],a}function fa(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a[6]=b[6]-c[6],a[7]=b[7]-c[7],a[8]=b[8]-c[8],a}function Ec(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a[8]=b[8]*c,a}function Fc(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a[6]=b[6]+c[6]*d,a[7]=b[7]+c[7]*d,a[8]=b[8]+c[8]*d,a}function Gc(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function Hc(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=b[0],n=b[1],m=b[2],p=b[3],q=b[4],o=b[5],r=b[6],v=b[7],t=b[8];return Math.abs(c-l)<=s*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(d-n)<=s*Math.max(1,Math.abs(d),Math.abs(n))&&Math.abs(e-m)<=s*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(f-p)<=s*Math.max(1,Math.abs(f),Math.abs(p))&&Math.abs(g-q)<=s*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(h-o)<=s*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(i-r)<=s*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(j-v)<=s*Math.max(1,Math.abs(j),Math.abs(v))&&Math.abs(k-t)<=s*Math.max(1,Math.abs(k),Math.abs(t))}var Ic=ea,Jc=fa,Kc=Object.freeze({__proto__:null,create:da,fromMat4:hc,clone:ic,copy:jc,fromValues:kc,set:lc,identity:mc,transpose:nc,invert:oc,adjoint:pc,determinant:qc,multiply:ea,translate:rc,rotate:sc,scale:tc,fromTranslation:uc,fromRotation:vc,fromScaling:wc,fromMat2d:xc,fromQuat:yc,normalFromMat4:zc,projection:Ac,str:Bc,frob:Cc,add:Dc,subtract:fa,multiplyScalar:Ec,multiplyScalarAndAdd:Fc,exactEquals:Gc,equals:Hc,mul:Ic,sub:Jc});function Lc(){var a=new z(16);return z!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function Mc(a){var b=new z(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b}function Nc(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}function Oc(a,b,c,d,e,f,g,h,i,j,k,l,n,m,p,q){var o=new z(16);return o[0]=a,o[1]=b,o[2]=c,o[3]=d,o[4]=e,o[5]=f,o[6]=g,o[7]=h,o[8]=i,o[9]=j,o[10]=k,o[11]=l,o[12]=n,o[13]=m,o[14]=p,o[15]=q,o}function Pc(a,b,c,d,e,f,g,h,i,j,k,l,n,m,p,q,o){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a[8]=j,a[9]=k,a[10]=l,a[11]=n,a[12]=m,a[13]=p,a[14]=q,a[15]=o,a}function ga(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Qc(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function Rc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],n=b[10],m=b[11],p=b[12],q=b[13],o=b[14],r=b[15],v=c*h-d*g,t=c*i-e*g,u=c*j-f*g,x=d*i-e*h,w=d*j-f*h,E=e*j-f*i,B=k*q-l*p,C=k*o-n*p,A=k*r-m*p,F=l*o-n*q,D=l*r-m*q,G=n*r-m*o,y=v*G-t*D+u*F+x*A-w*C+E*B;return y?(y=1/y,a[0]=(h*G-i*D+j*F)*y,a[1]=(e*D-d*G-f*F)*y,a[2]=(q*E-o*w+r*x)*y,a[3]=(n*w-l*E-m*x)*y,a[4]=(i*A-g*G-j*C)*y,a[5]=(c*G-e*A+f*C)*y,a[6]=(o*u-p*E-r*t)*y,a[7]=(k*E-n*u+m*t)*y,a[8]=(g*D-h*A+j*B)*y,a[9]=(d*A-c*D-f*B)*y,a[10]=(p*w-q*u+r*v)*y,a[11]=(l*u-k*w-m*v)*y,a[12]=(h*C-g*F-i*B)*y,a[13]=(c*F-d*C+e*B)*y,a[14]=(q*t-p*x-o*v)*y,a[15]=(k*x-l*t+n*v)*y,a):null}function Sc(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],n=b[10],m=b[11],p=b[12],q=b[13],o=b[14],r=b[15];return a[0]=h*(n*r-m*o)-l*(i*r-j*o)+q*(i*m-j*n),a[1]=-(d*(n*r-m*o)-l*(e*r-f*o)+q*(e*m-f*n)),a[2]=d*(i*r-j*o)-h*(e*r-f*o)+q*(e*j-f*i),a[3]=-(d*(i*m-j*n)-h*(e*m-f*n)+l*(e*j-f*i)),a[4]=-(g*(n*r-m*o)-k*(i*r-j*o)+p*(i*m-j*n)),a[5]=c*(n*r-m*o)-k*(e*r-f*o)+p*(e*m-f*n),a[6]=-(c*(i*r-j*o)-g*(e*r-f*o)+p*(e*j-f*i)),a[7]=c*(i*m-j*n)-g*(e*m-f*n)+k*(e*j-f*i),a[8]=g*(l*r-m*q)-k*(h*r-j*q)+p*(h*m-j*l),a[9]=-(c*(l*r-m*q)-k*(d*r-f*q)+p*(d*m-f*l)),a[10]=c*(h*r-j*q)-g*(d*r-f*q)+p*(d*j-f*h),a[11]=-(c*(h*m-j*l)-g*(d*m-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*o-n*q)-k*(h*o-i*q)+p*(h*n-i*l)),a[13]=c*(l*o-n*q)-k*(d*o-e*q)+p*(d*n-e*l),a[14]=-(c*(h*o-i*q)-g*(d*o-e*q)+p*(d*i-e*h)),a[15]=c*(h*n-i*l)-g*(d*n-e*l)+k*(d*i-e*h),a}function Tc(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],n=a[11],m=a[12],p=a[13],q=a[14],o=a[15],r=b*g-c*f,v=b*h-d*f,t=b*i-e*f,u=c*h-d*g,x=c*i-e*g,w=d*i-e*h,E=j*p-k*m,B=j*q-l*m,C=j*o-n*m,A=k*q-l*p,F=k*o-n*p,D=l*o-n*q;return r*D-v*F+t*A+u*C-x*B+w*E}function ha(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=b[9],m=b[10],p=b[11],q=b[12],o=b[13],r=b[14],v=b[15],t=c[0],u=c[1],x=c[2],w=c[3];return a[0]=t*d+u*h+x*l+w*q,a[1]=t*e+u*i+x*n+w*o,a[2]=t*f+u*j+x*m+w*r,a[3]=t*g+u*k+x*p+w*v,t=c[4],u=c[5],x=c[6],w=c[7],a[4]=t*d+u*h+x*l+w*q,a[5]=t*e+u*i+x*n+w*o,a[6]=t*f+u*j+x*m+w*r,a[7]=t*g+u*k+x*p+w*v,t=c[8],u=c[9],x=c[10],w=c[11],a[8]=t*d+u*h+x*l+w*q,a[9]=t*e+u*i+x*n+w*o,a[10]=t*f+u*j+x*m+w*r,a[11]=t*g+u*k+x*p+w*v,t=c[12],u=c[13],x=c[14],w=c[15],a[12]=t*d+u*h+x*l+w*q,a[13]=t*e+u*i+x*n+w*o,a[14]=t*f+u*j+x*m+w*r,a[15]=t*g+u*k+x*p+w*v,a}function Uc(a,b,c){var d=c[0],e=c[1],f=c[2],g,h,i,j,k,l,n,m,p,q,o,r;return b===a?(a[12]=b[0]*d+b[4]*e+b[8]*f+b[12],a[13]=b[1]*d+b[5]*e+b[9]*f+b[13],a[14]=b[2]*d+b[6]*e+b[10]*f+b[14],a[15]=b[3]*d+b[7]*e+b[11]*f+b[15]):(g=b[0],h=b[1],i=b[2],j=b[3],k=b[4],l=b[5],n=b[6],m=b[7],p=b[8],q=b[9],o=b[10],r=b[11],a[0]=g,a[1]=h,a[2]=i,a[3]=j,a[4]=k,a[5]=l,a[6]=n,a[7]=m,a[8]=p,a[9]=q,a[10]=o,a[11]=r,a[12]=g*d+k*e+p*f+b[12],a[13]=h*d+l*e+q*f+b[13],a[14]=i*d+n*e+o*f+b[14],a[15]=j*d+m*e+r*f+b[15]),a}function Vc(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}function Wc(a,b,c,d){var e=d[0],f=d[1],g=d[2],h=Math.hypot(e,f,g),i,j,k,l,n,m,p,q,o,r,v,t,u,x,w,E,B,C,A,F,D,G,y,H;return h<s?null:(h=1/h,e*=h,f*=h,g*=h,i=Math.sin(c),j=Math.cos(c),k=1-j,l=b[0],n=b[1],m=b[2],p=b[3],q=b[4],o=b[5],r=b[6],v=b[7],t=b[8],u=b[9],x=b[10],w=b[11],E=e*e*k+j,B=f*e*k+g*i,C=g*e*k-f*i,A=e*f*k-g*i,F=f*f*k+j,D=g*f*k+e*i,G=e*g*k+f*i,y=f*g*k-e*i,H=g*g*k+j,a[0]=l*E+q*B+t*C,a[1]=n*E+o*B+u*C,a[2]=m*E+r*B+x*C,a[3]=p*E+v*B+w*C,a[4]=l*A+q*F+t*D,a[5]=n*A+o*F+u*D,a[6]=m*A+r*F+x*D,a[7]=p*A+v*F+w*D,a[8]=l*G+q*y+t*H,a[9]=n*G+o*y+u*H,a[10]=m*G+r*y+x*H,a[11]=p*G+v*y+w*H,b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a)}function Xc(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],n=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+n*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=n*e-i*d,a}function Yc(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],n=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-n*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+n*e,a}function Zc(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],n=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+n*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=n*e-i*d,a}function _c(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=b[0],a[13]=b[1],a[14]=b[2],a[15]=1,a}function $c(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=b[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function ad(a,b,c){var d=c[0],e=c[1],f=c[2],g=Math.hypot(d,e,f),h,i,j;return g<s?null:(g=1/g,d*=g,e*=g,f*=g,h=Math.sin(b),i=Math.cos(b),j=1-i,a[0]=d*d*j+i,a[1]=e*d*j+f*h,a[2]=f*d*j-e*h,a[3]=0,a[4]=d*e*j-f*h,a[5]=e*e*j+i,a[6]=f*e*j+d*h,a[7]=0,a[8]=d*f*j+e*h,a[9]=e*f*j-d*h,a[10]=f*f*j+i,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function bd(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=c,a[7]=0,a[8]=0,a[9]=-c,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function cd(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=0,a[2]=-c,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=c,a[9]=0,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function dd(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=0,a[4]=-c,a[5]=d,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function ia(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,n=d*j,m=e*i,p=e*j,q=f*j,o=g*h,r=g*i,v=g*j;return a[0]=1-(m+q),a[1]=l+v,a[2]=n-r,a[3]=0,a[4]=l-v,a[5]=1-(k+q),a[6]=p+o,a[7]=0,a[8]=n+r,a[9]=p-o,a[10]=1-(k+m),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}function ed(a,b){var c=new z(3),d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=d*d+e*e+f*f+g*g;return l>0?(c[0]=(h*g+k*d+i*f-j*e)*2/l,c[1]=(i*g+k*e+j*d-h*f)*2/l,c[2]=(j*g+k*f+h*e-i*d)*2/l):(c[0]=(h*g+k*d+i*f-j*e)*2,c[1]=(i*g+k*e+j*d-h*f)*2,c[2]=(j*g+k*f+h*e-i*d)*2),ia(a,b,c),a}function ja(a,b){return a[0]=b[12],a[1]=b[13],a[2]=b[14],a}function ka(a,b){var c=b[0],d=b[1],e=b[2],f=b[4],g=b[5],h=b[6],i=b[8],j=b[9],k=b[10];return a[0]=Math.hypot(c,d,e),a[1]=Math.hypot(f,g,h),a[2]=Math.hypot(i,j,k),a}function la(a,b){var c=new z(3);ka(c,b);var d=1/c[0],e=1/c[1],f=1/c[2],g=b[0]*d,h=b[1]*e,i=b[2]*f,j=b[4]*d,k=b[5]*e,l=b[6]*f,n=b[8]*d,m=b[9]*e,p=b[10]*f,q=g+k+p,o=0;return q>0?(o=Math.sqrt(q+1)*2,a[3]=.25*o,a[0]=(l-m)/o,a[1]=(n-i)/o,a[2]=(h-j)/o):g>k&&g>p?(o=Math.sqrt(1+g-k-p)*2,a[3]=(l-m)/o,a[0]=.25*o,a[1]=(h+j)/o,a[2]=(n+i)/o):k>p?(o=Math.sqrt(1+k-g-p)*2,a[3]=(n-i)/o,a[0]=(h+j)/o,a[1]=.25*o,a[2]=(l+m)/o):(o=Math.sqrt(1+p-g-k)*2,a[3]=(h-j)/o,a[0]=(n+i)/o,a[1]=(l+m)/o,a[2]=.25*o),a}function fd(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],i=e+e,j=f+f,k=g+g,l=e*i,n=e*j,m=e*k,p=f*j,q=f*k,o=g*k,r=h*i,v=h*j,t=h*k,u=d[0],x=d[1],w=d[2];return a[0]=(1-(p+o))*u,a[1]=(n+t)*u,a[2]=(m-v)*u,a[3]=0,a[4]=(n-t)*x,a[5]=(1-(l+o))*x,a[6]=(q+r)*x,a[7]=0,a[8]=(m+v)*w,a[9]=(q-r)*w,a[10]=(1-(l+p))*w,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}function gd(a,b,c,d,e){var f=b[0],g=b[1],h=b[2],i=b[3],j=f+f,k=g+g,l=h+h,n=f*j,m=f*k,p=f*l,q=g*k,o=g*l,r=h*l,v=i*j,t=i*k,u=i*l,x=d[0],w=d[1],E=d[2],B=e[0],C=e[1],A=e[2],F=(1-(q+r))*x,D=(m+u)*x,G=(p-t)*x,y=(m-u)*w,H=(1-(n+r))*w,J=(o+v)*w,K=(p+t)*E,Z=(o-v)*E,_=(1-(n+q))*E;return a[0]=F,a[1]=D,a[2]=G,a[3]=0,a[4]=y,a[5]=H,a[6]=J,a[7]=0,a[8]=K,a[9]=Z,a[10]=_,a[11]=0,a[12]=c[0]+B-(F*B+y*C+K*A),a[13]=c[1]+C-(D*B+H*C+Z*A),a[14]=c[2]+A-(G*B+J*C+_*A),a[15]=1,a}function hd(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,n=e*g,m=e*h,p=e*i,q=f*g,o=f*h,r=f*i;return a[0]=1-l-p,a[1]=k+r,a[2]=n-o,a[3]=0,a[4]=k-r,a[5]=1-j-p,a[6]=m+q,a[7]=0,a[8]=n+o,a[9]=m-q,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function id(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=f*2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f*2*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a}function jd(a,b,c,d,e){var f=1/Math.tan(b/2),g;return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,e!=null&&e!==Infinity?(g=1/(d-e),a[10]=(e+d)*g,a[14]=2*e*d*g):(a[10]=-1,a[14]=-2*d),a}function kd(a,b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180),h=Math.tan(b.rightDegrees*Math.PI/180),i=2/(g+h),j=2/(e+f);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=j,a[6]=0,a[7]=0,a[8]=-((g-h)*i*.5),a[9]=(e-f)*j*.5,a[10]=d/(c-d),a[11]=-1,a[12]=0,a[13]=0,a[14]=d*c/(c-d),a[15]=0,a}function ld(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a}function md(a,b,c,d){var e,f,g,h,i,j,k,l,n,m,p=b[0],q=b[1],o=b[2],r=d[0],v=d[1],t=d[2],u=c[0],x=c[1],w=c[2];return Math.abs(p-u)<s&&Math.abs(q-x)<s&&Math.abs(o-w)<s?ga(a):(k=p-u,l=q-x,n=o-w,m=1/Math.hypot(k,l,n),k*=m,l*=m,n*=m,e=v*n-t*l,f=t*k-r*n,g=r*l-v*k,m=Math.hypot(e,f,g),m?(m=1/m,e*=m,f*=m,g*=m):(e=0,f=0,g=0),h=l*g-n*f,i=n*e-k*g,j=k*f-l*e,m=Math.hypot(h,i,j),m?(m=1/m,h*=m,i*=m,j*=m):(h=0,i=0,j=0),a[0]=e,a[1]=h,a[2]=k,a[3]=0,a[4]=f,a[5]=i,a[6]=l,a[7]=0,a[8]=g,a[9]=j,a[10]=n,a[11]=0,a[12]=-(e*p+f*q+g*o),a[13]=-(h*p+i*q+j*o),a[14]=-(k*p+l*q+n*o),a[15]=1,a)}function nd(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=d[0],i=d[1],j=d[2],k=e-c[0],l=f-c[1],n=g-c[2],m=k*k+l*l+n*n;m>0&&(m=1/Math.sqrt(m),k*=m,l*=m,n*=m);var p=i*n-j*l,q=j*k-h*n,o=h*l-i*k;return m=p*p+q*q+o*o,m>0&&(m=1/Math.sqrt(m),p*=m,q*=m,o*=m),a[0]=p,a[1]=q,a[2]=o,a[3]=0,a[4]=l*o-n*q,a[5]=n*p-k*o,a[6]=k*q-l*p,a[7]=0,a[8]=k,a[9]=l,a[10]=n,a[11]=0,a[12]=e,a[13]=f,a[14]=g,a[15]=1,a}function od(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function pd(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}function qd(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a[8]=b[8]+c[8],a[9]=b[9]+c[9],a[10]=b[10]+c[10],a[11]=b[11]+c[11],a[12]=b[12]+c[12],a[13]=b[13]+c[13],a[14]=b[14]+c[14],a[15]=b[15]+c[15],a}function ma(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],a[6]=b[6]-c[6],a[7]=b[7]-c[7],a[8]=b[8]-c[8],a[9]=b[9]-c[9],a[10]=b[10]-c[10],a[11]=b[11]-c[11],a[12]=b[12]-c[12],a[13]=b[13]-c[13],a[14]=b[14]-c[14],a[15]=b[15]-c[15],a}function rd(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a[8]=b[8]*c,a[9]=b[9]*c,a[10]=b[10]*c,a[11]=b[11]*c,a[12]=b[12]*c,a[13]=b[13]*c,a[14]=b[14]*c,a[15]=b[15]*c,a}function sd(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a[6]=b[6]+c[6]*d,a[7]=b[7]+c[7]*d,a[8]=b[8]+c[8]*d,a[9]=b[9]+c[9]*d,a[10]=b[10]+c[10]*d,a[11]=b[11]+c[11]*d,a[12]=b[12]+c[12]*d,a[13]=b[13]+c[13]*d,a[14]=b[14]+c[14]*d,a[15]=b[15]+c[15]*d,a}function td(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ud(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],n=a[10],m=a[11],p=a[12],q=a[13],o=a[14],r=a[15],v=b[0],t=b[1],u=b[2],x=b[3],w=b[4],E=b[5],B=b[6],C=b[7],A=b[8],F=b[9],D=b[10],G=b[11],y=b[12],H=b[13],J=b[14],K=b[15];return Math.abs(c-v)<=s*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(d-t)<=s*Math.max(1,Math.abs(d),Math.abs(t))&&Math.abs(e-u)<=s*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(f-x)<=s*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(g-w)<=s*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(h-E)<=s*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(i-B)<=s*Math.max(1,Math.abs(i),Math.abs(B))&&Math.abs(j-C)<=s*Math.max(1,Math.abs(j),Math.abs(C))&&Math.abs(k-A)<=s*Math.max(1,Math.abs(k),Math.abs(A))&&Math.abs(l-F)<=s*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(n-D)<=s*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(m-G)<=s*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(p-y)<=s*Math.max(1,Math.abs(p),Math.abs(y))&&Math.abs(q-H)<=s*Math.max(1,Math.abs(q),Math.abs(H))&&Math.abs(o-J)<=s*Math.max(1,Math.abs(o),Math.abs(J))&&Math.abs(r-K)<=s*Math.max(1,Math.abs(r),Math.abs(K))}var vd=ha,wd=ma,xd=Object.freeze({__proto__:null,create:Lc,clone:Mc,copy:Nc,fromValues:Oc,set:Pc,identity:ga,transpose:Qc,invert:Rc,adjoint:Sc,determinant:Tc,multiply:ha,translate:Uc,scale:Vc,rotate:Wc,rotateX:Xc,rotateY:Yc,rotateZ:Zc,fromTranslation:_c,fromScaling:$c,fromRotation:ad,fromXRotation:bd,fromYRotation:cd,fromZRotation:dd,fromRotationTranslation:ia,fromQuat2:ed,getTranslation:ja,getScaling:ka,getRotation:la,fromRotationTranslationScale:fd,fromRotationTranslationScaleOrigin:gd,fromQuat:hd,frustum:id,perspective:jd,perspectiveFromFieldOfView:kd,ortho:ld,lookAt:md,targetTo:nd,str:od,frob:pd,add:qd,subtract:ma,multiplyScalar:rd,multiplyScalarAndAdd:sd,exactEquals:td,equals:ud,mul:vd,sub:wd});function P(){var a=new z(3);return z!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function yd(a){var b=new z(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b}function na(a){var b=a[0],c=a[1],d=a[2];return Math.hypot(b,c,d)}function Q(a,b,c){var d=new z(3);return d[0]=a,d[1]=b,d[2]=c,d}function zd(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function Ad(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a}function Bd(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a}function oa(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a}function pa(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a}function qa(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a}function Cd(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a[2]=Math.ceil(b[2]),a}function Dd(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a[2]=Math.floor(b[2]),a}function Ed(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a}function Fd(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a}function Gd(a,b){return a[0]=Math.round(b[0]),a[1]=Math.round(b[1]),a[2]=Math.round(b[2]),a}function Hd(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a}function Id(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a}function ra(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.hypot(c,d,e)}function sa(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e}function ta(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d}function Jd(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a}function Kd(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a}function ua(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f)),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f,a}function R(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function L(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a}function Ld(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a}function Md(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,i=g*(f-2)+f,j=g*(f-1),k=g*(3-2*f);return a[0]=b[0]*h+c[0]*i+d[0]*j+e[0]*k,a[1]=b[1]*h+c[1]*i+d[1]*j+e[1]*k,a[2]=b[2]*h+c[2]*i+d[2]*j+e[2]*k,a}function Nd(a,b,c,d,e,f){var g=1-f,h=g*g,i=f*f,j=h*g,k=3*f*h,l=3*i*g,n=i*f;return a[0]=b[0]*j+c[0]*k+d[0]*l+e[0]*n,a[1]=b[1]*j+c[1]*k+d[1]*l+e[1]*n,a[2]=b[2]*j+c[2]*k+d[2]*l+e[2]*n,a}function Od(a,b){b=b||1;var c=I()*2*Math.PI,d=I()*2-1,e=Math.sqrt(1-d*d)*b;return a[0]=Math.cos(c)*e,a[1]=Math.sin(c)*e,a[2]=d*b,a}function Pd(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[3]*d+c[7]*e+c[11]*f+c[15];return g=g||1,a[0]=(c[0]*d+c[4]*e+c[8]*f+c[12])/g,a[1]=(c[1]*d+c[5]*e+c[9]*f+c[13])/g,a[2]=(c[2]*d+c[6]*e+c[10]*f+c[14])/g,a}function Qd(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a}function Rd(a,b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=b[0],i=b[1],j=b[2],k=e*j-f*i,l=f*h-d*j,n=d*i-e*h,m=e*n-f*l,p=f*k-d*n,q=d*l-e*k,o=g*2;return k*=o,l*=o,n*=o,m*=2,p*=2,q*=2,a[0]=h+k+m,a[1]=i+l+p,a[2]=j+n+q,a}function Sd(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0],f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d),f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function Td(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d),f[1]=e[1],f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function Ud(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d),f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d),f[2]=e[2],a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a}function Vd(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2],i=Math.sqrt(c*c+d*d+e*e),j=Math.sqrt(f*f+g*g+h*h),k=i*j,l=k&&R(a,b)/k;return Math.acos(Math.min(Math.max(l,-1),1))}function Wd(a){return a[0]=0,a[1]=0,a[2]=0,a}function Xd(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function Yd(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function Zd(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2];return Math.abs(c-f)<=s*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(d-g)<=s*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-h)<=s*Math.max(1,Math.abs(e),Math.abs(h))}var _d=oa,$d=pa,ae=qa,be=ra,ce=sa,va=na,de=ta,ee=function(){var a=P();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),e?i=Math.min(e*c+d,b.length):i=b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),fe=Object.freeze({__proto__:null,create:P,clone:yd,length:na,fromValues:Q,copy:zd,set:Ad,add:Bd,subtract:oa,multiply:pa,divide:qa,ceil:Cd,floor:Dd,min:Ed,max:Fd,round:Gd,scale:Hd,scaleAndAdd:Id,distance:ra,squaredDistance:sa,squaredLength:ta,negate:Jd,inverse:Kd,normalize:ua,dot:R,cross:L,lerp:Ld,hermite:Md,bezier:Nd,random:Od,transformMat4:Pd,transformMat3:Qd,transformQuat:Rd,rotateX:Sd,rotateY:Td,rotateZ:Ud,angle:Vd,zero:Wd,str:Xd,exactEquals:Yd,equals:Zd,sub:_d,mul:$d,div:ae,dist:be,sqrDist:ce,len:va,sqrLen:de,forEach:ee});function wa(){var a=new z(4);return z!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function xa(a){var b=new z(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b}function ya(a,b,c,d){var e=new z(4);return e[0]=a,e[1]=b,e[2]=c,e[3]=d,e}function za(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function Aa(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function Ba(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a}function Ca(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a}function Da(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a}function Ea(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a}function ge(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a[2]=Math.ceil(b[2]),a[3]=Math.ceil(b[3]),a}function he(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a[2]=Math.floor(b[2]),a[3]=Math.floor(b[3]),a}function ie(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a}function je(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a}function ke(a,b){return a[0]=Math.round(b[0]),a[1]=Math.round(b[1]),a[2]=Math.round(b[2]),a[3]=Math.round(b[3]),a}function Fa(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a}function le(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a}function Ga(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.hypot(c,d,e,f)}function Ha(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f}function S(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.hypot(b,c,d,e)}function T(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e}function me(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a}function ne(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a[3]=1/b[3],a}function Ia(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g)),a[0]=c*g,a[1]=d*g,a[2]=e*g,a[3]=f*g,a}function Ja(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function oe(a,b,c,d){var e=c[0]*d[1]-c[1]*d[0],f=c[0]*d[2]-c[2]*d[0],g=c[0]*d[3]-c[3]*d[0],h=c[1]*d[2]-c[2]*d[1],i=c[1]*d[3]-c[3]*d[1],j=c[2]*d[3]-c[3]*d[2],k=b[0],l=b[1],n=b[2],m=b[3];return a[0]=l*j-n*i+m*h,a[1]=-(k*j)+n*g-m*f,a[2]=k*i-l*g+m*e,a[3]=-(k*h)+l*f-n*e,a}function Ka(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a}function pe(a,b){b=b||1;var c,d,e,f,g,h;do c=I()*2-1,d=I()*2-1,g=c*c+d*d;while(g>=1);do e=I()*2-1,f=I()*2-1,h=e*e+f*f;while(h>=1);var i=Math.sqrt((1-g)/h);return a[0]=b*c,a[1]=b*d,a[2]=b*e*i,a[3]=b*f*i,a}function qe(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a}function re(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,n=j*f+g*e-h*d,m=-g*d-h*e-i*f;return a[0]=k*j+m*-g+l*-i-n*-h,a[1]=l*j+m*-h+n*-g-k*-i,a[2]=n*j+m*-i+k*-h-l*-g,a[3]=b[3],a}function se(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a}function te(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function La(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function Ma(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3];return Math.abs(c-g)<=s*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-h)<=s*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(e-i)<=s*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(f-j)<=s*Math.max(1,Math.abs(f),Math.abs(j))}var ue=Ca,ve=Da,we=Ea,xe=Ga,ye=Ha,ze=S,Ae=T,Be=function(){var a=wa();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),e?i=Math.min(e*c+d,b.length):i=b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),Ce=Object.freeze({__proto__:null,create:wa,clone:xa,fromValues:ya,copy:za,set:Aa,add:Ba,subtract:Ca,multiply:Da,divide:Ea,ceil:ge,floor:he,min:ie,max:je,round:ke,scale:Fa,scaleAndAdd:le,distance:Ga,squaredDistance:Ha,length:S,squaredLength:T,negate:me,inverse:ne,normalize:Ia,dot:Ja,cross:oe,lerp:Ka,random:pe,transformMat4:qe,transformQuat:re,zero:se,str:te,exactEquals:La,equals:Ma,sub:ue,mul:ve,div:we,dist:xe,sqrDist:ye,len:ze,sqrLen:Ae,forEach:Be});function M(){var a=new z(4);return z!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function De(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function Na(a,b,c){c=c*.5;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a}function Ee(a,b){var c=Math.acos(b[3])*2,d=Math.sin(c/2);return d>s?(a[0]=b[0]/d,a[1]=b[1]/d,a[2]=b[2]/d):(a[0]=1,a[1]=0,a[2]=0),c}function Fe(a,b){var c=V(a,b);return Math.acos(2*c*c-1)}function Oa(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a}function Pa(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a}function Qa(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a}function Ra(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a}function Ge(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a}function Sa(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=Math.sqrt(c*c+d*d+e*e),h=Math.exp(f),i=g>0?h*Math.sin(g)/g:0;return a[0]=c*i,a[1]=d*i,a[2]=e*i,a[3]=h*Math.cos(g),a}function Ta(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=Math.sqrt(c*c+d*d+e*e),h=g>0?Math.atan2(g,f)/g:0;return a[0]=c*h,a[1]=d*h,a[2]=e*h,a[3]=.5*Math.log(c*c+d*d+e*e+f*f),a}function He(a,b,c){return Ta(a,b),Va(a,a,c),Sa(a,a),a}function N(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],i=c[0],j=c[1],k=c[2],l=c[3],n,m,p,q,o;return m=e*i+f*j+g*k+h*l,m<0&&(m=-m,i=-i,j=-j,k=-k,l=-l),1-m>s?(n=Math.acos(m),p=Math.sin(n),q=Math.sin((1-d)*n)/p,o=Math.sin(d*n)/p):(q=1-d,o=d),a[0]=q*e+o*i,a[1]=q*f+o*j,a[2]=q*g+o*k,a[3]=q*h+o*l,a}function Ie(a){var b=I(),c=I(),d=I(),e=Math.sqrt(1-b),f=Math.sqrt(b);return a[0]=e*Math.sin(2*Math.PI*c),a[1]=e*Math.cos(2*Math.PI*c),a[2]=f*Math.sin(2*Math.PI*d),a[3]=f*Math.cos(2*Math.PI*d),a}function Je(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a}function Ke(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a}function Ua(a,b){var c=b[0]+b[4]+b[8],d;if(c>0)d=Math.sqrt(c+1),a[3]=.5*d,d=.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[e*3+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;d=Math.sqrt(b[e*3+e]-b[f*3+f]-b[g*3+g]+1),a[e]=.5*d,d=.5/d,a[3]=(b[f*3+g]-b[g*3+f])*d,a[f]=(b[f*3+e]+b[e*3+f])*d,a[g]=(b[g*3+e]+b[e*3+g])*d}return a}function Le(a,b,c,d){var e=.5*Math.PI/180;b*=e,c*=e,d*=e;var f=Math.sin(b),g=Math.cos(b),h=Math.sin(c),i=Math.cos(c),j=Math.sin(d),k=Math.cos(d);return a[0]=f*i*k-g*h*j,a[1]=g*h*k+f*i*j,a[2]=g*i*j-f*h*k,a[3]=g*i*k+f*h*j,a}function Me(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}var Ne=xa,Oe=ya,U=za,Pe=Aa,Qe=Ba,Re=Oa,Va=Fa,V=Ja,Se=Ka,W=S,Te=W,X=T,Ue=X,Y=Ia,Ve=La,We=Ma,Xe=function(){var a=P(),b=Q(1,0,0),c=Q(0,1,0);return function(d,e,f){var g=R(e,f);return g<-.999999?(L(a,b,e),va(a)<1e-6&&L(a,c,e),ua(a,a),Na(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(L(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,Y(d,d))}}(),Ye=function(){var a=M(),b=M();return function(c,d,e,f,g,h){return N(a,d,g,h),N(b,e,f,h),N(c,a,b,2*h*(1-h)),c}}(),Ze=function(){var a=da();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],Y(b,Ua(b,a))}}(),_e=Object.freeze({__proto__:null,create:M,identity:De,setAxisAngle:Na,getAxisAngle:Ee,getAngle:Fe,multiply:Oa,rotateX:Pa,rotateY:Qa,rotateZ:Ra,calculateW:Ge,exp:Sa,ln:Ta,pow:He,slerp:N,random:Ie,invert:Je,conjugate:Ke,fromMat3:Ua,fromEuler:Le,str:Me,clone:Ne,fromValues:Oe,copy:U,set:Pe,add:Qe,mul:Re,scale:Va,dot:V,lerp:Se,length:W,len:Te,squaredLength:X,sqrLen:Ue,normalize:Y,exactEquals:Ve,equals:We,rotationTo:Xe,sqlerp:Ye,setAxes:Ze});function $e(){var a=new z(8);return z!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0),a[3]=1,a}function af(a){var b=new z(8);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b}function bf(a,b,c,d,e,f,g,h){var i=new z(8);return i[0]=a,i[1]=b,i[2]=c,i[3]=d,i[4]=e,i[5]=f,i[6]=g,i[7]=h,i}function cf(a,b,c,d,e,f,g){var h=new z(8);h[0]=a,h[1]=b,h[2]=c,h[3]=d;var i=e*.5,j=f*.5,k=g*.5;return h[4]=i*d+j*c-k*b,h[5]=j*d+k*a-i*c,h[6]=k*d+i*b-j*a,h[7]=-i*a-j*b-k*c,h}function Wa(a,b,c){var d=c[0]*.5,e=c[1]*.5,f=c[2]*.5,g=b[0],h=b[1],i=b[2],j=b[3];return a[0]=g,a[1]=h,a[2]=i,a[3]=j,a[4]=d*j+e*i-f*h,a[5]=e*j+f*g-d*i,a[6]=f*j+d*h-e*g,a[7]=-d*g-e*h-f*i,a}function df(a,b){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=b[0]*.5,a[5]=b[1]*.5,a[6]=b[2]*.5,a[7]=0,a}function ef(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=0,a[5]=0,a[6]=0,a[7]=0,a}function ff(a,b){var c=M();la(c,b);var d=new z(3);return ja(d,b),Wa(a,c,d),a}function Xa(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a}function gf(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a[6]=0,a[7]=0,a}function hf(a,b,c,d,e,f,g,h,i){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a}var jf=U;function kf(a,b){return a[0]=b[4],a[1]=b[5],a[2]=b[6],a[3]=b[7],a}var lf=U;function mf(a,b){return a[4]=b[0],a[5]=b[1],a[6]=b[2],a[7]=b[3],a}function nf(a,b){var c=b[4],d=b[5],e=b[6],f=b[7],g=-b[0],h=-b[1],i=-b[2],j=b[3];return a[0]=(c*j+f*g+d*i-e*h)*2,a[1]=(d*j+f*h+e*g-c*i)*2,a[2]=(e*j+f*i+c*h-d*g)*2,a}function of(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0]*.5,i=c[1]*.5,j=c[2]*.5,k=b[4],l=b[5],n=b[6],m=b[7];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=g*h+e*j-f*i+k,a[5]=g*i+f*h-d*j+l,a[6]=g*j+d*i-e*h+n,a[7]=-d*h-e*i-f*j+m,a}function pf(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,n=i*g+k*e+j*d-h*f,m=j*g+k*f+h*e-i*d,p=k*g-h*d-i*e-j*f;return Pa(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+p*d+n*f-m*e,a[5]=n*g+p*e+m*d-l*f,a[6]=m*g+p*f+l*e-n*d,a[7]=p*g-l*d-n*e-m*f,a}function qf(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,n=i*g+k*e+j*d-h*f,m=j*g+k*f+h*e-i*d,p=k*g-h*d-i*e-j*f;return Qa(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+p*d+n*f-m*e,a[5]=n*g+p*e+m*d-l*f,a[6]=m*g+p*f+l*e-n*d,a[7]=p*g-l*d-n*e-m*f,a}function rf(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=h*g+k*d+i*f-j*e,n=i*g+k*e+j*d-h*f,m=j*g+k*f+h*e-i*d,p=k*g-h*d-i*e-j*f;return Ra(a,b,c),d=a[0],e=a[1],f=a[2],g=a[3],a[4]=l*g+p*d+n*f-m*e,a[5]=n*g+p*e+m*d-l*f,a[6]=m*g+p*f+l*e-n*d,a[7]=p*g-l*d-n*e-m*f,a}function sf(a,b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=b[0],i=b[1],j=b[2],k=b[3];return a[0]=h*g+k*d+i*f-j*e,a[1]=i*g+k*e+j*d-h*f,a[2]=j*g+k*f+h*e-i*d,a[3]=k*g-h*d-i*e-j*f,h=b[4],i=b[5],j=b[6],k=b[7],a[4]=h*g+k*d+i*f-j*e,a[5]=i*g+k*e+j*d-h*f,a[6]=j*g+k*f+h*e-i*d,a[7]=k*g-h*d-i*e-j*f,a}function tf(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,h=c[4],i=c[5],j=c[6],k=c[7],a[4]=d*k+g*h+e*j-f*i,a[5]=e*k+g*i+f*h-d*j,a[6]=f*k+g*j+d*i-e*h,a[7]=g*k-d*h-e*i-f*j,a}function uf(a,b,c,d){if(Math.abs(d)<s)return Xa(a,b);var e=Math.hypot(c[0],c[1],c[2]);d=d*.5;var f=Math.sin(d),g=f*c[0]/e,h=f*c[1]/e,i=f*c[2]/e,j=Math.cos(d),k=b[0],l=b[1],n=b[2],m=b[3];a[0]=k*j+m*g+l*i-n*h,a[1]=l*j+m*h+n*g-k*i,a[2]=n*j+m*i+k*h-l*g,a[3]=m*j-k*g-l*h-n*i;var p=b[4],q=b[5],o=b[6],r=b[7];return a[4]=p*j+r*g+q*i-o*h,a[5]=q*j+r*h+o*g-p*i,a[6]=o*j+r*i+p*h-q*g,a[7]=r*j-p*g-q*h-o*i,a}function vf(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a}function Ya(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[4],i=c[5],j=c[6],k=c[7],l=b[4],n=b[5],m=b[6],p=b[7],q=c[0],o=c[1],r=c[2],v=c[3];return a[0]=d*v+g*q+e*r-f*o,a[1]=e*v+g*o+f*q-d*r,a[2]=f*v+g*r+d*o-e*q,a[3]=g*v-d*q-e*o-f*r,a[4]=d*k+g*h+e*j-f*i+l*v+p*q+n*r-m*o,a[5]=e*k+g*i+f*h-d*j+n*v+p*o+m*q-l*r,a[6]=f*k+g*j+d*i-e*h+m*v+p*r+l*o-n*q,a[7]=g*k-d*h-e*i-f*j+p*v-l*q-n*o-m*r,a}var wf=Ya;function xf(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a}var Za=V;function yf(a,b,c,d){var e=1-d;return Za(b,c)<0&&(d=-d),a[0]=b[0]*e+c[0]*d,a[1]=b[1]*e+c[1]*d,a[2]=b[2]*e+c[2]*d,a[3]=b[3]*e+c[3]*d,a[4]=b[4]*e+c[4]*d,a[5]=b[5]*e+c[5]*d,a[6]=b[6]*e+c[6]*d,a[7]=b[7]*e+c[7]*d,a}function zf(a,b){var c=O(b);return a[0]=-b[0]/c,a[1]=-b[1]/c,a[2]=-b[2]/c,a[3]=b[3]/c,a[4]=-b[4]/c,a[5]=-b[5]/c,a[6]=-b[6]/c,a[7]=b[7]/c,a}function Af(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a[4]=-b[4],a[5]=-b[5],a[6]=-b[6],a[7]=b[7],a}var _a=W,Bf=_a,O=X,Cf=O;function Df(a,b){var c=O(b);if(c>0){c=Math.sqrt(c);var d=b[0]/c,e=b[1]/c,f=b[2]/c,g=b[3]/c,h=b[4],i=b[5],j=b[6],k=b[7],l=d*h+e*i+f*j+g*k;a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=(h-d*l)/c,a[5]=(i-e*l)/c,a[6]=(j-f*l)/c,a[7]=(k-g*l)/c}return a}function Ef(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function Ff(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function Gf(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=b[0],l=b[1],n=b[2],m=b[3],p=b[4],q=b[5],o=b[6],r=b[7];return Math.abs(c-k)<=s*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(d-l)<=s*Math.max(1,Math.abs(d),Math.abs(l))&&Math.abs(e-n)<=s*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(f-m)<=s*Math.max(1,Math.abs(f),Math.abs(m))&&Math.abs(g-p)<=s*Math.max(1,Math.abs(g),Math.abs(p))&&Math.abs(h-q)<=s*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(i-o)<=s*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(j-r)<=s*Math.max(1,Math.abs(j),Math.abs(r))}var Hf=Object.freeze({__proto__:null,create:$e,clone:af,fromValues:bf,fromRotationTranslationValues:cf,fromRotationTranslation:Wa,fromTranslation:df,fromRotation:ef,fromMat4:ff,copy:Xa,identity:gf,set:hf,getReal:jf,getDual:kf,setReal:lf,setDual:mf,getTranslation:nf,translate:of,rotateX:pf,rotateY:qf,rotateZ:rf,rotateByQuatAppend:sf,rotateByQuatPrepend:tf,rotateAroundAxis:uf,add:vf,multiply:Ya,mul:wf,scale:xf,dot:Za,lerp:yf,invert:zf,conjugate:Af,length:_a,len:Bf,squaredLength:O,sqrLen:Cf,normalize:Df,str:Ef,exactEquals:Ff,equals:Gf});function $a(){var a=new z(2);return z!=Float32Array&&(a[0]=0,a[1]=0),a}function If(a){var b=new z(2);return b[0]=a[0],b[1]=a[1],b}function Jf(a,b){var c=new z(2);return c[0]=a,c[1]=b,c}function Kf(a,b){return a[0]=b[0],a[1]=b[1],a}function Lf(a,b,c){return a[0]=b,a[1]=c,a}function Mf(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function ab(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function bb(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}function cb(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}function Nf(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a}function Of(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a}function Pf(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function Qf(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function Rf(a,b){return a[0]=Math.round(b[0]),a[1]=Math.round(b[1]),a}function Sf(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function Tf(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function db(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.hypot(c,d)}function eb(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d}function fb(a){var b=a[0],c=a[1];return Math.hypot(b,c)}function gb(a){var b=a[0],c=a[1];return b*b+c*c}function Uf(a,b){return a[0]=-b[0],a[1]=-b[1],a}function Vf(a,b){return a[0]=1/b[0],a[1]=1/b[1],a}function Wf(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e)),a[0]=b[0]*e,a[1]=b[1]*e,a}function Xf(a,b){return a[0]*b[0]+a[1]*b[1]}function Yf(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a}function Zf(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a}function _f(a,b){b=b||1;var c=I()*2*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a}function $f(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a}function ag(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function bg(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a}function cg(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a}function dg(a,b,c,d){var e=b[0]-c[0],f=b[1]-c[1],g=Math.sin(d),h=Math.cos(d);return a[0]=e*h-f*g+c[0],a[1]=e*g+f*h+c[1],a}function eg(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=Math.sqrt(c*c+d*d)*Math.sqrt(e*e+f*f),h=g&&(c*e+d*f)/g;return Math.acos(Math.min(Math.max(h,-1),1))}function fg(a){return a[0]=0,a[1]=0,a}function gg(a){return"vec2("+a[0]+", "+a[1]+")"}function hg(a,b){return a[0]===b[0]&&a[1]===b[1]}function ig(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return Math.abs(c-e)<=s*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-f)<=s*Math.max(1,Math.abs(d),Math.abs(f))}var jg=fb,kg=ab,lg=bb,mg=cb,ng=db,og=eb,pg=gb,qg=function(){var a=$a();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),e?i=Math.min(e*c+d,b.length):i=b.length,h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),rg=Object.freeze({__proto__:null,create:$a,clone:If,fromValues:Jf,copy:Kf,set:Lf,add:Mf,subtract:ab,multiply:bb,divide:cb,ceil:Nf,floor:Of,min:Pf,max:Qf,round:Rf,scale:Sf,scaleAndAdd:Tf,distance:db,squaredDistance:eb,length:fb,squaredLength:gb,negate:Uf,inverse:Vf,normalize:Wf,dot:Xf,cross:Yf,lerp:Zf,random:_f,transformMat2:$f,transformMat2d:ag,transformMat3:bg,transformMat4:cg,rotate:dg,angle:eg,zero:fg,str:gg,exactEquals:hg,equals:ig,len:jg,sub:kg,mul:lg,div:mg,dist:ng,sqrDist:og,sqrLen:pg,forEach:qg});export{lb as glMatrix,Kb as mat2,gc as mat2d,Kc as mat3,xd as mat4,_e as quat,Hf as quat2,rg as vec2,fe as vec3,Ce as vec4};
