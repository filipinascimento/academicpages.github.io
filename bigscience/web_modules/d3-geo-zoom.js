import{d as Ca,t as fb,l as Da,i as gb,g as Ea,h as Fa,j as hb,m as ib,o as jb,p as kb,q as lb,v as mb}from"./common/cubic-c714ef8b.js";var pa="http://www.w3.org/1999/xhtml",Ga={svg:"http://www.w3.org/2000/svg",xhtml:pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ea(a){var b=a+="",c=b.indexOf(":");return c>=0&&(b=a.slice(0,c))!=="xmlns"&&(a=a.slice(c+1)),Ga.hasOwnProperty(b)?{space:Ga[b],local:a}:a}function nb(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===pa&&b.documentElement.namespaceURI===pa?b.createElement(a):b.createElementNS(c,a)}}function ob(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function Ha(a){var b=ea(a);return(b.local?ob:nb)(b)}function pb(){}function qa(a){return a==null?pb:function(){return this.querySelector(a)}}function qb(a){typeof a!=="function"&&(a=qa(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f=b[e],g=f.length,h=d[e]=new Array(g),i,k,l=0;l<g;++l)(i=f[l])&&(k=a.call(i,i.__data__,l,f))&&("__data__"in i&&(k.__data__=i.__data__),h[l]=k);return new F(d,this._parents)}function Ia(a){return typeof a==="object"&&"length"in a?a:Array.from(a)}function rb(){return[]}function Ja(a){return a==null?rb:function(){return this.querySelectorAll(a)}}function sb(a){return function(){var b=a.apply(this,arguments);return b==null?[]:Ia(b)}}function tb(a){typeof a==="function"?a=sb(a):a=Ja(a);for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f)for(var g=b[f],h=g.length,i,k=0;k<h;++k)(i=g[k])&&(d.push(a.call(i,i.__data__,k,g)),e.push(i));return new F(d,e)}function Ka(a){return function(){return this.matches(a)}}function La(a){return function(b){return b.matches(a)}}var ub=Array.prototype.find;function vb(a){return function(){return ub.call(this.children,a)}}function wb(){return this.firstElementChild}function xb(a){return this.select(a==null?wb:vb(typeof a==="function"?a:La(a)))}var yb=Array.prototype.filter;function zb(){return this.children}function Ab(a){return function(){return yb.call(this.children,a)}}function Bb(a){return this.selectAll(a==null?zb:Ab(typeof a==="function"?a:La(a)))}function Cb(a){typeof a!=="function"&&(a=Ka(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f=b[e],g=f.length,h=d[e]=[],i,k=0;k<g;++k)(i=f[k])&&a.call(i,i.__data__,k,f)&&h.push(i);return new F(d,this._parents)}function Ma(a){return new Array(a.length)}function Db(){return new F(this._enter||this._groups.map(Ma),this._parents)}function fa(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}fa.prototype={constructor:fa,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function Eb(a){return function(){return a}}function Fb(a,b,c,d,e,f){for(var g=0,h,i=b.length,k=f.length;g<k;++g)(h=b[g])?(h.__data__=f[g],d[g]=h):c[g]=new fa(a,f[g]);for(;g<i;++g)(h=b[g])&&(e[g]=h)}function Gb(a,b,c,d,e,f,g){var h,i,k=new Map(),l=b.length,o=f.length,r=new Array(l),p;for(h=0;h<l;++h)(i=b[h])&&(r[h]=p=g.call(i,i.__data__,h,b)+"",k.has(p)?e[h]=i:k.set(p,i));for(h=0;h<o;++h)p=g.call(a,f[h],h,f)+"",(i=k.get(p))?(d[h]=i,i.__data__=f[h],k.delete(p)):c[h]=new fa(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(r[h])===i&&(e[h]=i)}function Hb(a){return a.__data__}function Ib(a,b){if(!arguments.length)return Array.from(this,Hb);var c=b?Gb:Fb,d=this._parents,e=this._groups;typeof a!=="function"&&(a=Eb(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),k=0;k<f;++k){var l=d[k],o=e[k],r=o.length,p=Ia(a.call(l,l&&l.__data__,k,d)),y=p.length,w=h[k]=new Array(y),G=g[k]=new Array(y),q=i[k]=new Array(r);c(l,o,w,G,q,p,b);for(var H=0,E=0,B,D;H<y;++H)if(B=w[H]){for(H>=E&&(E=H+1);!(D=G[E])&&++E<y;);B._next=D||null}}return g=new F(g,d),g._enter=h,g._exit=i,g}function Jb(){return new F(this._exit||this._groups.map(Ma),this._parents)}function Kb(a,b,c){var d=this.enter(),e=this,f=this.exit();return d=typeof a==="function"?a(d):d.append(a+""),b!=null&&(e=b(e)),c==null?f.remove():c(f),d&&e?d.merge(e).order():e}function Lb(a){if(!(a instanceof F))throw new Error("invalid merge");for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i=b[h],k=c[h],l=i.length,o=g[h]=new Array(l),r,p=0;p<l;++p)(r=i[p]||k[p])&&(o[p]=r);for(;h<d;++h)g[h]=b[h];return new F(g,this._parents)}function Mb(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d=a[b],e=d.length-1,f=d[e],g;--e>=0;)(g=d[e])&&(f&&g.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(g,f),f=g);return this}function Nb(a){a||(a=Ob);function b(o,r){return o&&r?a(o.__data__,r.__data__):!o-!r}for(var c=this._groups,d=c.length,e=new Array(d),f=0;f<d;++f){for(var g=c[f],h=g.length,i=e[f]=new Array(h),k,l=0;l<h;++l)(k=g[l])&&(i[l]=k);i.sort(b)}return new F(e,this._parents).order()}function Ob(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Pb(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function Qb(){return Array.from(this)}function Rb(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null}function Sb(){let a=0;for(const b of this)++a;return a}function Tb(){return!this.node()}function Ub(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e=b[c],f=0,g=e.length,h;f<g;++f)(h=e[f])&&a.call(h,h.__data__,f,e);return this}function Vb(a){return function(){this.removeAttribute(a)}}function Wb(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Xb(a,b){return function(){this.setAttribute(a,b)}}function Yb(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function Zb(a,b){return function(){var c=b.apply(this,arguments);c==null?this.removeAttribute(a):this.setAttribute(a,c)}}function _b(a,b){return function(){var c=b.apply(this,arguments);c==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function $b(a,b){var c=ea(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((b==null?c.local?Wb:Vb:typeof b==="function"?c.local?_b:Zb:c.local?Yb:Xb)(c,b))}function Na(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function ac(a){return function(){this.style.removeProperty(a)}}function bc(a,b,c){return function(){this.style.setProperty(a,b,c)}}function cc(a,b,c){return function(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function dc(a,b,c){return arguments.length>1?this.each((b==null?ac:typeof b==="function"?cc:bc)(a,b,c==null?"":c)):_(this.node(),a)}function _(a,b){return a.style.getPropertyValue(b)||Na(a).getComputedStyle(a,null).getPropertyValue(b)}function ec(a){return function(){delete this[a]}}function fc(a,b){return function(){this[a]=b}}function gc(a,b){return function(){var c=b.apply(this,arguments);c==null?delete this[a]:this[a]=c}}function hc(a,b){return arguments.length>1?this.each((b==null?ec:typeof b==="function"?gc:fc)(a,b)):this.node()[a]}function Oa(a){return a.trim().split(/^|\s+/)}function ra(a){return a.classList||new Pa(a)}function Pa(a){this._node=a,this._names=Oa(a.getAttribute("class")||"")}Pa.prototype={add:function(a){var b=this._names.indexOf(a);b<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function Qa(a,b){for(var c=ra(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function Ra(a,b){for(var c=ra(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function ic(a){return function(){Qa(this,a)}}function jc(a){return function(){Ra(this,a)}}function kc(a,b){return function(){(b.apply(this,arguments)?Qa:Ra)(this,a)}}function lc(a,b){var c=Oa(a+"");if(arguments.length<2){for(var d=ra(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each((typeof b==="function"?kc:b?ic:jc)(c,b))}function mc(){this.textContent=""}function nc(a){return function(){this.textContent=a}}function oc(a){return function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}}function pc(a){return arguments.length?this.each(a==null?mc:(typeof a==="function"?oc:nc)(a)):this.node().textContent}function qc(){this.innerHTML=""}function rc(a){return function(){this.innerHTML=a}}function sc(a){return function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}}function tc(a){return arguments.length?this.each(a==null?qc:(typeof a==="function"?sc:rc)(a)):this.node().innerHTML}function uc(){this.nextSibling&&this.parentNode.appendChild(this)}function vc(){return this.each(uc)}function wc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xc(){return this.each(wc)}function yc(a){var b=typeof a==="function"?a:Ha(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})}function zc(){return null}function Ac(a,b){var c=typeof a==="function"?a:Ha(a),d=b==null?zc:typeof b==="function"?b:qa(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})}function Bc(){var a=this.parentNode;a&&a.removeChild(this)}function Cc(){return this.each(Bc)}function Dc(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Ec(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Fc(a){return this.select(a?Ec:Dc)}function Gc(a){return arguments.length?this.property("__data__",a):this.node().__data__}function Hc(a){return function(b){a.call(this,b,this.__data__)}}function Ic(a){return a.trim().split(/^|\s+/).map(function(b){var c="",d=b.indexOf(".");return d>=0&&(c=b.slice(d+1),b=b.slice(0,d)),{type:b,name:c}})}function Jc(a){return function(){var b=this.__on;if(!b)return;for(var c=0,d=-1,e=b.length,f;c<e;++c)(f=b[c],(!a.type||f.type===a.type)&&f.name===a.name)?this.removeEventListener(f.type,f.listener,f.options):b[++d]=f;++d?b.length=d:delete this.__on}}function Kc(a,b,c){return function(){var d=this.__on,e,f=Hc(b);if(d){for(var g=0,h=d.length;g<h;++g)if((e=d[g]).type===a.type&&e.name===a.name){this.removeEventListener(e.type,e.listener,e.options),this.addEventListener(e.type,e.listener=f,e.options=c),e.value=b;return}}this.addEventListener(a.type,f,c),e={type:a.type,name:a.name,value:b,listener:f,options:c},d?d.push(e):this.__on=[e]}}function Lc(a,b,c){var d=Ic(a+""),e,f=d.length,g;if(arguments.length<2){var h=this.node().__on;if(h){for(var i=0,k=h.length,l;i<k;++i)for(e=0,l=h[i];e<f;++e)if((g=d[e]).type===l.type&&g.name===l.name)return l.value}return}for(h=b?Kc:Jc,e=0;e<f;++e)this.each(h(d[e],b,c));return this}function Sa(a,b,c){var d=Na(a),e=d.CustomEvent;typeof e==="function"?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function Mc(a,b){return function(){return Sa(this,a,b)}}function Nc(a,b){return function(){return Sa(this,a,b.apply(this,arguments))}}function Oc(a,b){return this.each((typeof b==="function"?Nc:Mc)(a,b))}function*Pc(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length,g;e<f;++e)(g=d[e])&&(yield g)}var Ta=[null];function F(a,b){this._groups=a,this._parents=b}function $(){return new F([[document.documentElement]],Ta)}function Qc(){return this}F.prototype=$.prototype={constructor:F,select:qb,selectAll:tb,selectChild:xb,selectChildren:Bb,filter:Cb,data:Ib,enter:Db,exit:Jb,join:Kb,merge:Lb,selection:Qc,order:Mb,sort:Nb,call:Pb,nodes:Qb,node:Rb,size:Sb,empty:Tb,each:Ub,attr:$b,style:dc,property:hc,classed:lc,text:pc,html:tc,raise:vc,lower:xc,append:yc,insert:Ac,remove:Cc,clone:Fc,datum:Gc,on:Lc,dispatch:Oc,[Symbol.iterator]:Pc};function U(a){return typeof a==="string"?new F([[document.querySelector(a)]],[document.documentElement]):new F([[a]],Ta)}function Ua(a){let b;for(;b=a.sourceEvent;)a=b;return a}function V(a,b){a=Ua(a),b===void 0&&(b=a.currentTarget);if(b){var c=b.ownerSVGElement||b;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,d=d.matrixTransform(b.getScreenCTM().inverse()),[d.x,d.y]}if(b.getBoundingClientRect){var e=b.getBoundingClientRect();return[a.clientX-e.left-b.clientLeft,a.clientY-e.top-b.clientTop]}}return[a.pageX,a.pageY]}function Rc(a,b){return a.target&&(a=Ua(a),b===void 0&&(b=a.currentTarget),a=a.touches||[a]),Array.from(a,c=>V(c,b))}function sa(a){a.preventDefault(),a.stopImmediatePropagation()}function Sc(a){var b=a.document.documentElement,c=U(a).on("dragstart.drag",sa,!0);"onselectstart"in b?c.on("selectstart.drag",sa,!0):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function Tc(a,b){var c=a.document.documentElement,d=U(a).on("dragstart.drag",null);b&&(d.on("click.drag",sa,!0),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}var Uc=Ca("start","end","cancel","interrupt"),Vc=[],Va=0,Wa=1,ta=2,ga=3,Xa=4,ua=5,ha=6;function ia(a,b,c,d,e,f){var g=a.__transition;if(!g)a.__transition={};else if(c in g)return;Wc(a,c,{name:b,index:d,group:e,on:Uc,tween:Vc,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:Va})}function va(a,b){var c=L(a,b);if(c.state>Va)throw new Error("too late; already scheduled");return c}function O(a,b){var c=L(a,b);if(c.state>ga)throw new Error("too late; already running");return c}function L(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw new Error("transition not found");return c}function Wc(a,b,c){var d=a.__transition,e;d[b]=c,c.timer=fb(f,0,c.time);function f(k){c.state=Wa,c.timer.restart(g,c.delay,c.time),c.delay<=k&&g(k-c.delay)}function g(k){var l,o,r,p;if(c.state!==Wa)return i();for(l in d){p=d[l];if(p.name!==c.name)continue;if(p.state===ga)return Da(g);p.state===Xa?(p.state=ha,p.timer.stop(),p.on.call("interrupt",a,a.__data__,p.index,p.group),delete d[l]):+l<b&&(p.state=ha,p.timer.stop(),p.on.call("cancel",a,a.__data__,p.index,p.group),delete d[l])}Da(function(){c.state===ga&&(c.state=Xa,c.timer.restart(h,c.delay,c.time),h(k))}),c.state=ta,c.on.call("start",a,a.__data__,c.index,c.group);if(c.state!==ta)return;for(c.state=ga,e=new Array(r=c.tween.length),l=0,o=-1;l<r;++l)(p=c.tween[l].value.call(a,a.__data__,c.index,c.group))&&(e[++o]=p);e.length=o+1}function h(k){for(var l=k<c.duration?c.ease.call(null,k/c.duration):(c.timer.restart(i),c.state=ua,1),o=-1,r=e.length;++o<r;)e[o].call(a,l);c.state===ua&&(c.on.call("end",a,a.__data__,c.index,c.group),i())}function i(){c.state=ha,c.timer.stop(),delete d[b];for(var k in d)return;delete a.__transition}}function ja(a,b){var c=a.__transition,d,e,f=!0,g;if(!c)return;b=b==null?null:b+"";for(g in c){if((d=c[g]).name!==b){f=!1;continue}e=d.state>ta&&d.state<ua,d.state=ha,d.timer.stop(),d.on.call(e?"interrupt":"cancel",a,a.__data__,d.index,d.group),delete c[g]}f&&delete a.__transition}function Xc(a){return this.each(function(){ja(this,a)})}function Yc(a,b){var c,d;return function(){var e=O(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){d=d.slice(),d.splice(g,1);break}}e.tween=d}}function Zc(a,b,c){var d,e;if(typeof c!=="function")throw new Error();return function(){var f=O(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,k=e.length;i<k;++i)if(e[i].name===b){e[i]=h;break}i===k&&e.push(h)}f.tween=e}}function _c(a,b){var c=this._id;a+="";if(arguments.length<2){for(var d=L(this.node(),c).tween,e=0,f=d.length,g;e<f;++e)if((g=d[e]).name===a)return g.value;return null}return this.each((b==null?Yc:Zc)(c,a,b))}function wa(a,b,c){var d=a._id;return a.each(function(){var e=O(this,d);(e.value||(e.value={}))[b]=c.apply(this,arguments)}),function(e){return L(e,d).value[b]}}function Ya(a,b){var c;return(typeof b==="number"?gb:b instanceof Ea?Fa:(c=Ea(b))?(b=c,Fa):hb)(a,b)}function $c(a){return function(){this.removeAttribute(a)}}function ad(a){return function(){this.removeAttributeNS(a.space,a.local)}}function bd(a,b,c){var d,e=c+"",f;return function(){var g=this.getAttribute(a);return g===e?null:g===d?f:f=b(d=g,c)}}function cd(a,b,c){var d,e=c+"",f;return function(){var g=this.getAttributeNS(a.space,a.local);return g===e?null:g===d?f:f=b(d=g,c)}}function dd(a,b,c){var d,e,f;return function(){var g,h=c(this),i;return h==null?void this.removeAttribute(a):(g=this.getAttribute(a),i=h+"",g===i?null:g===d&&i===e?f:(e=i,f=b(d=g,h)))}}function ed(a,b,c){var d,e,f;return function(){var g,h=c(this),i;return h==null?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local),i=h+"",g===i?null:g===d&&i===e?f:(e=i,f=b(d=g,h)))}}function fd(a,b){var c=ea(a),d=c==="transform"?ib:Ya;return this.attrTween(a,typeof b==="function"?(c.local?ed:dd)(c,d,wa(this,"attr."+a,b)):b==null?(c.local?ad:$c)(c):(c.local?cd:bd)(c,d,b))}function gd(a,b){return function(c){this.setAttribute(a,b.call(this,c))}}function hd(a,b){return function(c){this.setAttributeNS(a.space,a.local,b.call(this,c))}}function id(a,b){var c,d;function e(){var f=b.apply(this,arguments);return f!==d&&(c=(d=f)&&hd(a,f)),c}return e._value=b,e}function jd(a,b){var c,d;function e(){var f=b.apply(this,arguments);return f!==d&&(c=(d=f)&&gd(a,f)),c}return e._value=b,e}function kd(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(b==null)return this.tween(c,null);if(typeof b!=="function")throw new Error();var d=ea(a);return this.tween(c,(d.local?id:jd)(d,b))}function ld(a,b){return function(){va(this,a).delay=+b.apply(this,arguments)}}function md(a,b){return b=+b,function(){va(this,a).delay=b}}function nd(a){var b=this._id;return arguments.length?this.each((typeof a==="function"?ld:md)(b,a)):L(this.node(),b).delay}function od(a,b){return function(){O(this,a).duration=+b.apply(this,arguments)}}function pd(a,b){return b=+b,function(){O(this,a).duration=b}}function qd(a){var b=this._id;return arguments.length?this.each((typeof a==="function"?od:pd)(b,a)):L(this.node(),b).duration}function rd(a,b){if(typeof b!=="function")throw new Error();return function(){O(this,a).ease=b}}function sd(a){var b=this._id;return arguments.length?this.each(rd(b,a)):L(this.node(),b).ease}function td(a,b){return function(){var c=b.apply(this,arguments);if(typeof c!=="function")throw new Error();O(this,a).ease=c}}function ud(a){if(typeof a!=="function")throw new Error();return this.each(td(this._id,a))}function vd(a){typeof a!=="function"&&(a=Ka(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f=b[e],g=f.length,h=d[e]=[],i,k=0;k<g;++k)(i=f[k])&&a.call(i,i.__data__,k,f)&&h.push(i);return new T(d,this._parents,this._name,this._id)}function wd(a){if(a._id!==this._id)throw new Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i=b[h],k=c[h],l=i.length,o=g[h]=new Array(l),r,p=0;p<l;++p)(r=i[p]||k[p])&&(o[p]=r);for(;h<d;++h)g[h]=b[h];return new T(g,this._parents,this._name,this._id)}function xd(a){return(a+"").trim().split(/^|\s+/).every(function(b){var c=b.indexOf(".");return c>=0&&(b=b.slice(0,c)),!b||b==="start"})}function yd(a,b,c){var d,e,f=xd(b)?va:O;return function(){var g=f(this,a),h=g.on;h!==d&&(e=(d=h).copy()).on(b,c),g.on=e}}function zd(a,b){var c=this._id;return arguments.length<2?L(this.node(),c).on.on(a):this.each(yd(c,a,b))}function Ad(a){return function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function Bd(){return this.on("end.remove",Ad(this._id))}function Cd(a){var b=this._name,c=this._id;typeof a!=="function"&&(a=qa(a));for(var d=this._groups,e=d.length,f=new Array(e),g=0;g<e;++g)for(var h=d[g],i=h.length,k=f[g]=new Array(i),l,o,r=0;r<i;++r)(l=h[r])&&(o=a.call(l,l.__data__,r,h))&&("__data__"in l&&(o.__data__=l.__data__),k[r]=o,ia(k[r],b,c,r,k,L(l,c)));return new T(f,this._parents,b,c)}function Dd(a){var b=this._name,c=this._id;typeof a!=="function"&&(a=Ja(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i=d[h],k=i.length,l,o=0;o<k;++o)if(l=i[o]){for(var r=a.call(l,l.__data__,o,i),p,y=L(l,c),w=0,G=r.length;w<G;++w)(p=r[w])&&ia(p,b,c,w,r,y);f.push(r),g.push(l)}return new T(f,g,b,c)}var Ed=$.prototype.constructor;function Fd(){return new Ed(this._groups,this._parents)}function Gd(a,b){var c,d,e;return function(){var f=_(this,a),g=(this.style.removeProperty(a),_(this,a));return f===g?null:f===c&&g===d?e:e=b(c=f,d=g)}}function Za(a){return function(){this.style.removeProperty(a)}}function Hd(a,b,c){var d,e=c+"",f;return function(){var g=_(this,a);return g===e?null:g===d?f:f=b(d=g,c)}}function Id(a,b,c){var d,e,f;return function(){var g=_(this,a),h=c(this),i=h+"";return h==null&&(i=h=(this.style.removeProperty(a),_(this,a))),g===i?null:g===d&&i===e?f:(e=i,f=b(d=g,h))}}function Jd(a,b){var c,d,e,f="style."+b,g="end."+f,h;return function(){var i=O(this,a),k=i.on,l=i.value[f]==null?h||(h=Za(b)):void 0;(k!==c||e!==l)&&(d=(c=k).copy()).on(g,e=l),i.on=d}}function Kd(a,b,c){var d=(a+="")==="transform"?jb:Ya;return b==null?this.styleTween(a,Gd(a,d)).on("end.style."+a,Za(a)):typeof b==="function"?this.styleTween(a,Id(a,d,wa(this,"style."+a,b))).each(Jd(this._id,a)):this.styleTween(a,Hd(a,d,b),c).on("end.style."+a,null)}function Ld(a,b,c){return function(d){this.style.setProperty(a,b.call(this,d),c)}}function Md(a,b,c){var d,e;function f(){var g=b.apply(this,arguments);return g!==e&&(d=(e=g)&&Ld(a,g,c)),d}return f._value=b,f}function Nd(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(b==null)return this.tween(d,null);if(typeof b!=="function")throw new Error();return this.tween(d,Md(a,b,c==null?"":c))}function Od(a){return function(){this.textContent=a}}function Pd(a){return function(){var b=a(this);this.textContent=b==null?"":b}}function Qd(a){return this.tween("text",typeof a==="function"?Pd(wa(this,"text",a)):Od(a==null?"":a+""))}function Rd(a){return function(b){this.textContent=a.call(this,b)}}function Sd(a){var b,c;function d(){var e=a.apply(this,arguments);return e!==c&&(b=(c=e)&&Rd(e)),b}return d._value=a,d}function Td(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(a==null)return this.tween(b,null);if(typeof a!=="function")throw new Error();return this.tween(b,Sd(a))}function Ud(){for(var a=this._name,b=this._id,c=_a(),d=this._groups,e=d.length,f=0;f<e;++f)for(var g=d[f],h=g.length,i,k=0;k<h;++k)if(i=g[k]){var l=L(i,b);ia(i,a,c,k,g,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new T(d,this._parents,a,c)}function Vd(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){--e===0&&f()}};c.each(function(){var k=O(this,d),l=k.on;l!==a&&(b=(a=l).copy(),b._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),k.on=b}),e===0&&f()})}var Wd=0;function T(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function Xd(a){return $().transition(a)}function _a(){return++Wd}var X=$.prototype;T.prototype=Xd.prototype={constructor:T,select:Cd,selectAll:Dd,filter:vd,merge:wd,selection:Fd,transition:Ud,call:X.call,nodes:X.nodes,node:X.node,size:X.size,empty:X.empty,each:X.each,on:zd,attr:fd,attrTween:kd,style:Kd,styleTween:Nd,text:Qd,textTween:Td,remove:Bd,tween:_c,delay:nd,duration:qd,ease:sd,easeVarying:ud,end:Vd,[Symbol.iterator]:X[Symbol.iterator]};var Yd={time:null,delay:0,duration:250,ease:lb};function Zd(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw new Error(`transition ${b} not found`);return c}function _d(a){var b,c;a instanceof T?(b=a._id,a=a._name):(b=_a(),(c=Yd).time=kb(),a=a==null?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g=d[f],h=g.length,i,k=0;k<h;++k)(i=g[k])&&ia(i,a,b,k,g,c||Zd(i,b));return new T(d,this._parents,a,b)}$.prototype.interrupt=Xc,$.prototype.transition=_d;var ka=a=>()=>a;function $d(a,{sourceEvent:b,target:c,transform:d,dispatch:e}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:e}})}function W(a,b,c){this.k=a,this.x=b,this.y=c}W.prototype={constructor:W,scale:function(a){return a===1?this:new W(this.k*a,this.x,this.y)},translate:function(a,b){return a===0&b===0?this:new W(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $a=new W(1,0,0);function xa(a){a.stopImmediatePropagation()}function aa(a){a.preventDefault(),a.stopImmediatePropagation()}function ae(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function be(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function ab(){return this.__zoom||$a}function ce(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function de(){return navigator.maxTouchPoints||"ontouchstart"in this}function ee(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}function fe(){var a=ae,b=be,c=ee,d=ce,e=de,f=[0,Infinity],g=[[-Infinity,-Infinity],[Infinity,Infinity]],h=250,i=mb,k=Ca("start","zoom","end"),l,o,r,p=500,y=150,w=0,G=10;function q(j){j.property("__zoom",ab).on("wheel.zoom",Q).on("mousedown.zoom",la).on("dblclick.zoom",ca).filter(e).on("touchstart.zoom",ma).on("touchmove.zoom",da).on("touchend.zoom touchcancel.zoom",na).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}q.transform=function(j,n,m,s){var t=j.selection?j.selection():j;t.property("__zoom",ab),j!==t?D(j,n,m,s):t.interrupt().each(function(){z(this,arguments).event(s).start().zoom(null,typeof n==="function"?n.apply(this,arguments):n).end()})},q.scaleBy=function(j,n,m,s){q.scaleTo(j,function(){var t=this.__zoom.k,u=typeof n==="function"?n.apply(this,arguments):n;return t*u},m,s)},q.scaleTo=function(j,n,m,s){q.transform(j,function(){var t=b.apply(this,arguments),u=this.__zoom,v=m==null?B(t):typeof m==="function"?m.apply(this,arguments):m,x=u.invert(v),A=typeof n==="function"?n.apply(this,arguments):n;return c(E(H(u,A),v,x),t,g)},m,s)},q.translateBy=function(j,n,m,s){q.transform(j,function(){return c(this.__zoom.translate(typeof n==="function"?n.apply(this,arguments):n,typeof m==="function"?m.apply(this,arguments):m),b.apply(this,arguments),g)},null,s)},q.translateTo=function(j,n,m,s,t){q.transform(j,function(){var u=b.apply(this,arguments),v=this.__zoom,x=s==null?B(u):typeof s==="function"?s.apply(this,arguments):s;return c($a.translate(x[0],x[1]).scale(v.k).translate(typeof n==="function"?-n.apply(this,arguments):-n,typeof m==="function"?-m.apply(this,arguments):-m),u,g)},s,t)};function H(j,n){return n=Math.max(f[0],Math.min(f[1],n)),n===j.k?j:new W(n,j.x,j.y)}function E(j,n,m){var s=n[0]-m[0]*j.k,t=n[1]-m[1]*j.k;return s===j.x&&t===j.y?j:new W(j.k,s,t)}function B(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function D(j,n,m,s){j.on("start.zoom",function(){z(this,arguments).event(s).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(s).end()}).tween("zoom",function(){var t=this,u=arguments,v=z(t,u).event(s),x=b.apply(t,u),A=m==null?B(x):typeof m==="function"?m.apply(t,u):m,N=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),C=t.__zoom,J=typeof n==="function"?n.apply(t,u):n,R=i(C.invert(A).concat(N/C.k),J.invert(A).concat(N/J.k));return function(K){if(K===1)K=J;else{var S=R(K),oa=N/S[2];K=new W(oa,A[0]-S[0]*oa,A[1]-S[1]*oa)}v.zoom(null,K)}})}function z(j,n,m){return!m&&j.__zooming||new I(j,n)}function I(j,n){this.that=j,this.args=n,this.active=0,this.sourceEvent=null,this.extent=b.apply(j,n),this.taps=0}I.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,n){return this.mouse&&j!=="mouse"&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var n=U(this.that).datum();k.call(j,this.that,new $d(j,{sourceEvent:this.sourceEvent,target:q,type:j,transform:this.that.__zoom,dispatch:k}),n)}};function Q(j,...n){if(!a.apply(this,arguments))return;var m=z(this,n).event(j),s=this.__zoom,t=Math.max(f[0],Math.min(f[1],s.k*Math.pow(2,d.apply(this,arguments)))),u=V(j);if(m.wheel)(m.mouse[0][0]!==u[0]||m.mouse[0][1]!==u[1])&&(m.mouse[1]=s.invert(m.mouse[0]=u)),clearTimeout(m.wheel);else{if(s.k===t)return;m.mouse=[u,s.invert(u)],ja(this),m.start()}aa(j),m.wheel=setTimeout(v,y),m.zoom("mouse",c(E(H(s,t),m.mouse[0],m.mouse[1]),m.extent,g));function v(){m.wheel=null,m.end()}}function la(j,...n){if(r||!a.apply(this,arguments))return;var m=z(this,n,!0).event(j),s=U(j.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",N,!0),t=V(j,u),u=j.currentTarget,v=j.clientX,x=j.clientY;Sc(j.view),xa(j),m.mouse=[t,this.__zoom.invert(t)],ja(this),m.start();function A(C){aa(C);if(!m.moved){var J=C.clientX-v,R=C.clientY-x;m.moved=J*J+R*R>w}m.event(C).zoom("mouse",c(E(m.that.__zoom,m.mouse[0]=V(C,u),m.mouse[1]),m.extent,g))}function N(C){s.on("mousemove.zoom mouseup.zoom",null),Tc(C.view,m.moved),aa(C),m.event(C).end()}}function ca(j,...n){if(!a.apply(this,arguments))return;var m=this.__zoom,s=V(j.changedTouches?j.changedTouches[0]:j,this),t=m.invert(s),u=m.k*(j.shiftKey?.5:2),v=c(E(H(m,u),s,t),b.apply(this,n),g);aa(j),h>0?U(this).transition().duration(h).call(D,v,s,j):U(this).call(q.transform,v,s,j)}function ma(j,...n){if(!a.apply(this,arguments))return;var m=j.touches,s=m.length,t=z(this,n,j.changedTouches.length===s).event(j),u,v,x,A;for(xa(j),v=0;v<s;++v)x=m[v],A=V(x,this),A=[A,this.__zoom.invert(A),x.identifier],t.touch0?!t.touch1&&t.touch0[2]!==A[2]&&(t.touch1=A,t.taps=0):(t.touch0=A,u=!0,t.taps=1+!!l);l&&(l=clearTimeout(l)),u&&(t.taps<2&&(o=A[0],l=setTimeout(function(){l=null},p)),ja(this),t.start())}function da(j,...n){if(!this.__zooming)return;var m=z(this,n).event(j),s=j.changedTouches,t=s.length,u,v,x,A;for(aa(j),u=0;u<t;++u)v=s[u],x=V(v,this),m.touch0&&m.touch0[2]===v.identifier?m.touch0[0]=x:m.touch1&&m.touch1[2]===v.identifier&&(m.touch1[0]=x);v=m.that.__zoom;if(m.touch1){var N=m.touch0[0],C=m.touch0[1],J=m.touch1[0],R=m.touch1[1],K=(K=J[0]-N[0])*K+(K=J[1]-N[1])*K,S=(S=R[0]-C[0])*S+(S=R[1]-C[1])*S;v=H(v,Math.sqrt(K/S)),x=[(N[0]+J[0])/2,(N[1]+J[1])/2],A=[(C[0]+R[0])/2,(C[1]+R[1])/2]}else if(m.touch0)x=m.touch0[0],A=m.touch0[1];else return;m.zoom("touch",c(E(v,x,A),m.extent,g))}function na(j,...n){if(!this.__zooming)return;var m=z(this,n).event(j),s=j.changedTouches,t=s.length,u,v;for(xa(j),r&&clearTimeout(r),r=setTimeout(function(){r=null},p),u=0;u<t;++u)v=s[u],m.touch0&&m.touch0[2]===v.identifier?delete m.touch0:m.touch1&&m.touch1[2]===v.identifier&&delete m.touch1;m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1);if(m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else{m.end();if(m.taps===2){v=V(v,this);if(Math.hypot(o[0]-v[0],o[1]-v[1])<G){var x=U(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}}return q.wheelDelta=function(j){return arguments.length?(d=typeof j==="function"?j:ka(+j),q):d},q.filter=function(j){return arguments.length?(a=typeof j==="function"?j:ka(!!j),q):a},q.touchable=function(j){return arguments.length?(e=typeof j==="function"?j:ka(!!j),q):e},q.extent=function(j){return arguments.length?(b=typeof j==="function"?j:ka([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),q):b},q.scaleExtent=function(j){return arguments.length?(f[0]=+j[0],f[1]=+j[1],q):[f[0],f[1]]},q.translateExtent=function(j){return arguments.length?(g[0][0]=+j[0][0],g[1][0]=+j[1][0],g[0][1]=+j[0][1],g[1][1]=+j[1][1],q):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},q.constrain=function(j){return arguments.length?(c=j,q):c},q.duration=function(j){return arguments.length?(h=+j,q):h},q.interpolate=function(j){return arguments.length?(i=j,q):i},q.on=function(){var j=k.on.apply(k,arguments);return j===k?q:j},q.clickDistance=function(j){return arguments.length?(w=(j=+j)*j,q):Math.sqrt(w)},q.tapDistance=function(j){return arguments.length?(G=+j,q):G},q}var bb=Math.acos,ge=Math.asin,cb=Math.atan2,Y=Math.cos,db=Math.hypot,ya=Math.max,za=Math.min,eb=Math.PI,Z=Math.sin,ba=eb/180,Aa=180/eb;class P{static fromCartesian([a,b,c]){return[0,c,-b,a]}static fromAngles([a,b,c]){a*=ba/2,b*=ba/2,c=(c||0)*ba/2;const d=Z(a),e=Y(a),f=Z(b),g=Y(b),h=Z(c),i=Y(c);return[e*g*i+d*f*h,d*g*i-e*f*h,e*f*i+d*g*h,e*g*h-d*f*i]}static toAngles([a,b,c,d]){return[cb(2*(a*b+c*d),1-2*(b*b+c*c))*Aa,ge(ya(-1,za(1,2*(a*c-d*b))))*Aa,cb(2*(a*d+b*c),1-2*(c*c+d*d))*Aa]}static interpolateAngles(a,b){const c=P.interpolate(P.fromAngles(a),P.fromAngles(b));return d=>P.toAngles(c(d))}static interpolateLinear([a,b,c,d],[e,f,g,h]){e-=a,f-=b,g-=c,h-=d;const i=new Array(4);return k=>{const l=db(i[0]=a+e*k,i[1]=b+f*k,i[2]=c+g*k,i[3]=d+h*k);return i[0]/=l,i[1]/=l,i[2]/=l,i[3]/=l,i}}static interpolate([a,b,c,d],[e,f,g,h]){let i=P.dot([a,b,c,d],[e,f,g,h]);i<0&&(e=-e,f=-f,g=-g,h=-h,i=-i);if(i>.9995)return P.interpolateLinear([a,b,c,d],[e,f,g,h]);const k=bb(ya(-1,za(1,i))),l=new Array(4),o=db(e-=a*i,f-=b*i,g-=c*i,h-=d*i);return e/=o,f/=o,g/=o,h/=o,r=>{const p=k*r,y=Z(p),w=Y(p);return l[0]=a*w+e*y,l[1]=b*w+f*y,l[2]=c*w+g*y,l[3]=d*w+h*y,l}}static dot([a,b,c,d],[e,f,g,h]){return a*e+b*f+c*g+d*h}static multiply([a,b,c,d],[e,f,g,h]){return[a*e-b*f-c*g-d*h,a*f+b*e+c*h-d*g,a*g-b*h+c*e+d*f,a*h+b*g-c*f+d*e]}}var M=P.fromAngles;M.multiply=P.multiply,M.rotation=P.toAngles,M.interpolate=P.interpolateAngles,M.cartesian=function(a){var b=a[0]*ba,c=a[1]*ba,d=Y(c);return[d*Y(b),d*Z(b),Z(c)]},M.delta=function(a,b,c){arguments.length==2&&(c=1);const d=Math.sqrt;function e(l,o){return[l[1]*o[2]-l[2]*o[1],l[2]*o[0]-l[0]*o[2],l[0]*o[1]-l[1]*o[0]]}function f(l,o){return l[0]*o[0]+l[1]*o[1]+l[2]*o[2]}var g=e(a,b),h=d(f(g,g));if(!h)return[1,0,0,0];var i=c*bb(ya(-1,za(1,f(a,b))))/2,k=Z(i);return[Y(i),g[2]/h*k,-g[1]/h*k,g[0]/h*k]};function Ba(a,b,c){var d,e,f,g,h;null==b&&(b=100);function i(){var l=Date.now()-g;l<b&&l>=0?d=setTimeout(i,b-l):(d=null,c||(h=a.apply(f,e),f=e=null))}var k=function(){f=this,e=arguments,g=Date.now();var l=c&&!d;return d||(d=setTimeout(i,b)),l&&(h=a.apply(f,e),f=e=null),h};return k.clear=function(){d&&(clearTimeout(d),d=null)},k.flush=function(){d&&(h=a.apply(f,e),f=e=null,clearTimeout(d),d=null)},k}Ba.debounce=Ba;var he=Ba;function ie(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function je(a,b){return ke(a)||le(a,b)||me()}function ke(a){if(Array.isArray(a))return a}function le(a,b){if(!(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(i){e=!0,f=i}finally{try{!d&&g.return!=null&&g.return()}finally{if(e)throw f}}return c}function me(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var ne=function a(b,c){var d=c.default,e=d===void 0?null:d,f=c.triggerUpdate,g=f===void 0?!0:f,h=c.onChange,i=h===void 0?function(k,l){}:h;ie(this,a),this.name=b,this.defaultVal=e,this.triggerUpdate=g,this.onChange=i};function oe(a){var b=a.stateInit,c=b===void 0?function(){return{}}:b,d=a.props,e=d===void 0?{}:d,f=a.methods,g=f===void 0?{}:f,h=a.aliases,i=h===void 0?{}:h,k=a.init,l=k===void 0?function(){}:k,o=a.update,r=o===void 0?function(){}:o,p=Object.keys(e).map(function(y){return new ne(y,e[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=Object.assign({},c instanceof Function?c(y):c,{initialised:!1}),G={};function q(B){return H(B,y),E(),q}var H=function B(D,z){l.call(q,D,w,z),w.initialised=!0},E=he(function(){if(!w.initialised)return;r.call(q,w,G),G={}},1);return p.forEach(function(B){q[B.name]=D(B);function D(z){var I=z.name,Q=z.triggerUpdate,la=Q===void 0?!1:Q,ca=z.onChange,ma=ca===void 0?function(j,n){}:ca,da=z.defaultVal,na=da===void 0?null:da;return function(j){var n=w[I];if(!arguments.length)return n;var m=j===void 0?na:j;return w[I]=m,ma.call(q,m,w,n),!G.hasOwnProperty(I)&&(G[I]=n),la&&E(),q}}}),Object.keys(g).forEach(function(B){q[B]=function(){for(var D,z=arguments.length,I=new Array(z),Q=0;Q<z;Q++)I[Q]=arguments[Q];return(D=g[B]).call.apply(D,[q,w].concat(I))}}),Object.entries(i).forEach(function(B){var D=je(B,2),z=D[0],I=D[1];return q[z]=q[I]}),q.resetProps=function(){return p.forEach(function(B){q[B.name](B.defaultVal)}),q},q.resetProps(),w._rerender=E,q}}var pe=oe({props:{projection:{onChange:function a(b,c){c.unityScale=b?b.scale():1}},scaleExtent:{default:[.1,1e3],onChange:function a(b,c){c.zoom&&c.zoom.scaleExtent(b)}},northUp:{default:!1},onMove:{defaultVal:function a(){}}},init:function a(b,c){U(b).call(c.zoom=fe().scaleExtent(c.scaleExtent).on("start",g).on("zoom",h));var d,e,f;function g(k){if(!c.projection)return;d=M.cartesian(c.projection.invert(i(k))),e=c.projection.rotate(),f=M(e)}function h(k){if(!c.projection)return;var l=k.transform.k*c.unityScale;c.projection.scale(l);var o=M.cartesian(c.projection.rotate(e).invert(i(k))),r=M.multiply(f,M.delta(d,o)),p=M.rotation(r);c.northUp&&(p[2]=0),c.projection.rotate(p),c.onMove({scale:l,rotation:p})}function i(k){var l=function r(p){return p.reduce(function(y,w){return y+w},0)/p.length},o=Rc(k,b);return o&&o.length>1?[0,1].map(function(r){return l(o.map(function(p){return p[r]}))}):o.length?o[0]:[void 0,void 0]}}});export default pe;
